<script type="module">
import { play, pause } from './js/index.js';
import { settings } from "./js/settings/settings.js"; 
import { toggleScreen } from './js/InstructionSlideshow.js';

const musicButton = document.getElementById('musicButton');

musicButton.addEventListener('click', () => {
    if (settings.isMusicPlaying) {
        pause();
        settings.isMusicPlaying = false;
        musicButton.innerHTML = '&#9835 &#9654;'; 
    } else {
        play();
        settings.isMusicPlaying = true;
        musicButton.innerHTML = '&#9835 &#9654;||'; 
    }
});
</script>

<!DOCTYPE html>
  
<html lang="en"  scroll="no">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Space Chaser</title>
  <link href="https://fonts.googleapis.com/css?family=Press+Start+2P" rel="stylesheet">
  <link rel="stylesheet" href="css/index.css">
  <link rel="stylesheet" href="css/InstructionSlideshow.css">
  <link rel="shortcut icon" href="./SpaceChaserSprites/spaceChaserIcon.png">
</head>
<body scroll="no" style="overflow: hidden">

  <div id="container">
    <aside id="top-left">
      <h2 class="hideMe" style="width: 30rem;">Too Many Prisoners Escaped!</h2>
    </aside>
    <main >
      <div id="urScoreCon2" style="display: none;">
      </div>
        <div>
          <div>
            <div id="musicButton" class="prevent-select" >&#9835
               &#9654||
            </div>
          </div>
      </div>

      <div id="start-screen" class="screen">
        <!-- <div> -->
          <h1>Space Chaser</h1>
          <div id="startButtonHolder">
          <button onClick="startGame()" class="prevent-select"
            id="startGameButton"
          >Start Game</button>
          <button onClick="" class="prevent-select" id="showInstructionsBtn">HOW TO PLAY</button>
        <!-- </div> -->
        </div>
      </div>




          <div id="slideshow-container">
            <img id="slideImage" src="" />
            <div>
            <p id="slideCaption"></p>
            <div class="slide-controls">
              <button id="prevSlide">⟵</button>
              <button id="backToMenu">Back to Menu</button>
              <button id="nextSlide">⟶</button>
              
            </div>
           </div>
          </div>


        
      <div id="game-over-screen" class="screen" style="display:none, ">
        <div>
          <h1>Game Over</h1>
          <h2 >Too Many Prisoners ESCAPED</h2>
          <button onClick="refreshPage()" class="prevent-select" id="startGameButton">Play Again</button>
        </div>
      </div>
      <div id="game-over-screen-win" class="screen" style="display:none;  font-size: 2vw;">
          <h1>You Win! Congradulations!</h1>
          <h3 id="urScore2"></h3>
          <button class="prevent-select" onClick="refreshPage()" id="startGameButton">Play Again</button>
      </div>

      <div id="cellDoor1" class="cell-door" style="background-image: url('SpaceChaserSprites/CellDoors/cellDoor1.png'); display: none;"></div>
      <div id="cellDoor2" class="cell-door" style="background-image: url('SpaceChaserSprites/CellDoors/cellDoor2.png'); display: none;"></div>
      <div id="cellDoor3" class="cell-door" style="background-image: url('SpaceChaserSprites/CellDoors/cellDoor3.png'); display: none;"></div>
      <div id="cellDoor4" class="cell-door" style="background-image: url('SpaceChaserSprites/CellDoors/cellDoor4.png'); display: none;"></div>
      <div id="cellDoor5" class="cell-door" style="background-image: url('SpaceChaserSprites/CellDoors/cellDoor5.png'); display: none;"></div>
      <div id="cellDoor6" class="cell-door" style="background-image: url('SpaceChaserSprites/CellDoors/cellDoor6.png'); display: none;"></div>
      <div id="cellDoor7" class="cell-door" style="background-image: url('SpaceChaserSprites/CellDoors/cellDoor7.png'); display: none;"></div>
      <div id="cellDoor8" class="cell-door" style="background-image: url('SpaceChaserSprites/CellDoors/cellDoor8.png'); display: none;"></div>
      <div id="cellDoor9" class="cell-door" style="background-image: url('SpaceChaserSprites/CellDoors/cellDoor9.png'); display: none;"></div>
      <div id="cellDoor10" class="cell-door" style="background-image: url('SpaceChaserSprites/CellDoors/cellDoor10.png'); display: none;"></div>
      <div ></div>
      <div id="canvasContainer">
        <canvas id="canvas"></canvas>
      </div>
       <div id="boxDiv">
        <div id="lButts">
           <button id="topLeftButtonL" >
            <div id="topLeftArrowL" class="prevent-select">&#8593
            </div>
          </button>
          <button id="leftButtonL" class="prevent-select"> <div id="leftArrowL" class="prevent-select">&#8593</div>
          </button>
          <button id="bottomLeftButtonL" >
            <div id="bottomLeftArrowL" class="prevent-select">&#8595
            </div>
          </button>
        </div>
        <div id="mButts">
          <button id="upButtonL" class="prevent-select">&#8593</button>
          <button id="downButtonL" class="prevent-select">&#8595</button>
        </div>
        <div id="rButts">
          <button id="topRightButtonL"><div id="topRightArrowL" class="prevent-select">&#8593</div></button>
          <button id="rightButtonL" class="prevent-select"><div id="rightArrowL" class="prevent-select">&#8595</div></button>
          <button id="bottomRightButtonL"><div id="bottomRightArrowL" class="prevent-select">&#8595</div></button>
        </div>
      </div>
</div>
      <div id="hud-scale-wrapper">
        <h2 id="movement" class="hideMe"></h2>
        <h2 id="escapedCount" class="hideMe"></h2>
        <h2 id="carryCount" class="hideMe"></h2>
        <h2 id="timer" class="hideMe">00:00</h2>
        <div id="ui-overlay"></div>
      </div>    
      <audio controls id="music" style="display: none;">
        <source src="kim-lightyear-angel-eyes-chiptune-edit-110226.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
        </audio>
    </main>
    </aside>
    <aside id="btm-right">
      <h2 id="status3"  class="hideMe"> HURRY BEFORE THEY STEP IN IT!!!</h2>
    </aside>
  </div>
  <script type="module" src="js/index.js"></script>
</body>
</html>
